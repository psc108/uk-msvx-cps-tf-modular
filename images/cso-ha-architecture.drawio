<mxfile host="app.diagrams.net" modified="2024-01-15T10:00:00.000Z" agent="5.0" etag="abc123" version="22.1.16" type="device">
  <diagram name="CSO-HA-Architecture" id="cso-ha-arch">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- AWS Cloud -->
        <mxCell id="aws-cloud" value="" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_aws_cloud;strokeColor=#232F3E;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#232F3E;dashed=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="1080" height="740" as="geometry" />
        </mxCell>
        
        <!-- Region -->
        <mxCell id="region" value="eu-west-2" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_region;strokeColor=#147EBA;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="80" width="1040" height="680" as="geometry" />
        </mxCell>
        
        <!-- VPC -->
        <mxCell id="vpc" value="VPC: 10.1.0.0/16" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_vpc;strokeColor=#248814;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="120" width="1000" height="620" as="geometry" />
        </mxCell>
        
        <!-- AZ-A -->
        <mxCell id="az-a" value="eu-west-2a" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_availability_zone;strokeColor=#147EBA;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="160" width="460" height="260" as="geometry" />
        </mxCell>
        
        <!-- AZ-B -->
        <mxCell id="az-b" value="eu-west-2c" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_availability_zone;strokeColor=#147EBA;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="160" width="460" height="260" as="geometry" />
        </mxCell>
        
        <!-- Public Subnet A -->
        <mxCell id="pub-subnet-a" value="Public Subnet A&#xa;10.1.0.0/18" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=10;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;strokeColor=#248814;fillColor=#E9F3E6;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;" vertex="1" parent="1">
          <mxGeometry x="120" y="200" width="200" height="100" as="geometry" />
        </mxCell>
        
        <!-- Private Subnet A -->
        <mxCell id="priv-subnet-a" value="Private Subnet A&#xa;10.1.128.0/18" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=10;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;strokeColor=#147EBA;fillColor=#E6F2F8;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=0;" vertex="1" parent="1">
          <mxGeometry x="340" y="200" width="200" height="200" as="geometry" />
        </mxCell>
        
        <!-- Public Subnet B -->
        <mxCell id="pub-subnet-b" value="Public Subnet B&#xa;10.1.64.0/18" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=10;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;strokeColor=#248814;fillColor=#E9F3E6;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;" vertex="1" parent="1">
          <mxGeometry x="620" y="200" width="200" height="100" as="geometry" />
        </mxCell>
        
        <!-- Private Subnet B -->
        <mxCell id="priv-subnet-b" value="Private Subnet B&#xa;10.1.192.0/18" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=10;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;strokeColor=#147EBA;fillColor=#E6F2F8;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=0;" vertex="1" parent="1">
          <mxGeometry x="840" y="200" width="200" height="200" as="geometry" />
        </mxCell>
        
        <!-- Internet Gateway -->
        <mxCell id="igw" value="Internet&#xa;Gateway" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#4D72F3;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.internet_gateway;" vertex="1" parent="1">
          <mxGeometry x="500" y="60" width="60" height="60" as="geometry" />
        </mxCell>
        
        <!-- Jump Server -->
        <mxCell id="jump-server" value="Jump Server&#xa;t2.large" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ec2_instance;" vertex="1" parent="1">
          <mxGeometry x="150" y="230" width="48" height="48" as="geometry" />
        </mxCell>
        
        <!-- NAT Gateway A -->
        <mxCell id="nat-a" value="NAT&#xa;Gateway A" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#4D72F3;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.nat_gateway;" vertex="1" parent="1">
          <mxGeometry x="250" y="230" width="48" height="48" as="geometry" />
        </mxCell>
        
        <!-- NAT Gateway B -->
        <mxCell id="nat-b" value="NAT&#xa;Gateway B" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#4D72F3;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.nat_gateway;" vertex="1" parent="1">
          <mxGeometry x="750" y="230" width="48" height="48" as="geometry" />
        </mxCell>
        
        <!-- Frontend Servers -->
        <mxCell id="fe1" value="Frontend 1&#xa;c5.2xlarge" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ec2_instance;" vertex="1" parent="1">
          <mxGeometry x="360" y="230" width="40" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="fe2" value="Frontend 2&#xa;c5.2xlarge" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ec2_instance;" vertex="1" parent="1">
          <mxGeometry x="860" y="230" width="40" height="40" as="geometry" />
        </mxCell>
        
        <!-- Backend Servers -->
        <mxCell id="be1" value="Backend 1&#xa;c5.4xlarge" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ec2_instance;" vertex="1" parent="1">
          <mxGeometry x="420" y="230" width="40" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="be2" value="Backend 2&#xa;c5.4xlarge" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ec2_instance;" vertex="1" parent="1">
          <mxGeometry x="920" y="230" width="40" height="40" as="geometry" />
        </mxCell>
        
        <!-- Keystone Servers -->
        <mxCell id="ks1" value="Keystone 1&#xa;t2.xlarge" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ec2_instance;" vertex="1" parent="1">
          <mxGeometry x="360" y="320" width="40" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="ks2" value="Keystone 2&#xa;t2.xlarge" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ec2_instance;" vertex="1" parent="1">
          <mxGeometry x="860" y="320" width="40" height="40" as="geometry" />
        </mxCell>
        
        <!-- RabbitMQ Servers -->
        <mxCell id="rmq1" value="RabbitMQ 1&#xa;t2.xlarge" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ec2_instance;" vertex="1" parent="1">
          <mxGeometry x="480" y="320" width="40" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="rmq2" value="RabbitMQ 2&#xa;t2.xlarge" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.ec2_instance;" vertex="1" parent="1">
          <mxGeometry x="980" y="320" width="40" height="40" as="geometry" />
        </mxCell>
        
        <!-- Application Load Balancer -->
        <mxCell id="alb" value="Application&#xa;Load Balancer&#xa;Port 8102" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#8C4FFF;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.application_load_balancer;" vertex="1" parent="1">
          <mxGeometry x="500" y="140" width="60" height="60" as="geometry" />
        </mxCell>
        
        <!-- RDS -->
        <mxCell id="rds" value="RDS MySQL&#xa;Multi-AZ&#xa;db.c5.4xlarge" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#3F48CC;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.rds_instance;" vertex="1" parent="1">
          <mxGeometry x="400" y="480" width="60" height="60" as="geometry" />
        </mxCell>
        
        <!-- EFS -->
        <mxCell id="efs" value="EFS&#xa;Encrypted&#xa;Multi-AZ" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#3F48CC;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.efs_standard;" vertex="1" parent="1">
          <mxGeometry x="600" y="480" width="60" height="60" as="geometry" />
        </mxCell>
        
        <!-- Cognito -->
        <mxCell id="cognito" value="Cognito&#xa;User Pool&#xa;OIDC Auth" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#FF9900;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.cognito;" vertex="1" parent="1">
          <mxGeometry x="300" y="140" width="60" height="60" as="geometry" />
        </mxCell>
        
        <!-- Secrets Manager -->
        <mxCell id="secrets" value="Secrets&#xa;Manager&#xa;KMS Encrypted" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#FF9900;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.secrets_manager;" vertex="1" parent="1">
          <mxGeometry x="200" y="480" width="60" height="60" as="geometry" />
        </mxCell>
        
        <!-- KMS -->
        <mxCell id="kms" value="KMS&#xa;Auto-Rotation" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#FF9900;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.key_management_service;" vertex="1" parent="1">
          <mxGeometry x="800" y="480" width="60" height="60" as="geometry" />
        </mxCell>
        
        <!-- Route53 -->
        <mxCell id="r53" value="Route53&#xa;Private Zone" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#8C4FFF;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.route_53;" vertex="1" parent="1">
          <mxGeometry x="1000" y="480" width="60" height="60" as="geometry" />
        </mxCell>
        
        <!-- Users -->
        <mxCell id="users" value="Users" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.users;" vertex="1" parent="1">
          <mxGeometry x="500" y="10" width="60" height="60" as="geometry" />
        </mxCell>
        
        <!-- Authentication Flow Arrows -->
        <mxCell id="auth-flow-1" value="1. HTTPS:8102" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF6B35;strokeWidth=2;fontColor=#FF6B35;" edge="1" parent="1" source="users" target="alb">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="auth-flow-2" value="2. Listener Rule" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF6B35;strokeWidth=2;fontColor=#FF6B35;" edge="1" parent="1" source="alb" target="cognito">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="auth-flow-3" value="3. OAuth2 Login" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF6B35;strokeWidth=2;fontColor=#FF6B35;" edge="1" parent="1" source="cognito" target="users">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="auth-flow-4" value="4. /oauth2/idpresponse" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF6B35;strokeWidth=2;fontColor=#FF6B35;" edge="1" parent="1" source="users" target="alb">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="450" y="40" as="sourcePoint" />
            <mxPoint x="450" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Load Balancer to Frontend -->
        <mxCell id="alb-fe1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#147EBA;strokeWidth=2;" edge="1" parent="1" source="alb" target="fe1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="alb-fe2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#147EBA;strokeWidth=2;" edge="1" parent="1" source="alb" target="fe2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Network Connections -->
        <mxCell id="igw-alb" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4D72F3;strokeWidth=2;" edge="1" parent="1" source="igw" target="alb">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="igw-jump" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4D72F3;strokeWidth=2;" edge="1" parent="1" source="igw" target="jump-server">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Database Connections -->
        <mxCell id="be1-rds" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#3F48CC;strokeWidth=1;dashed=1;" edge="1" parent="1" source="be1" target="rds">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="be2-rds" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#3F48CC;strokeWidth=1;dashed=1;" edge="1" parent="1" source="be2" target="rds">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Security Connections -->
        <mxCell id="kms-secrets" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF9900;strokeWidth=1;dashed=1;" edge="1" parent="1" source="kms" target="secrets">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="kms-rds" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF9900;strokeWidth=1;dashed=1;" edge="1" parent="1" source="kms" target="rds">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="kms-efs" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF9900;strokeWidth=1;dashed=1;" edge="1" parent="1" source="kms" target="efs">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>